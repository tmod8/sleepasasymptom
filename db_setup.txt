CREATE DATABASE "SAAS"
    WITH 
    OWNER = why2110rocks
    ENCODING = 'UTF8'
    CONNECTION LIMIT = -1;
	
CREATE SEQUENCE public.sq_entity
    INCREMENT 1
    START 1;
CREATE SEQUENCE public.sq_type
    INCREMENT 1
    START 1;
CREATE SEQUENCE public.sq_entity_study
    INCREMENT 1
    START 1;
CREATE SEQUENCE public.sq_health
    INCREMENT 1
    START 1;
CREATE SEQUENCE public.sq_study
    INCREMENT 1
    START 1;
	
CREATE TABLE public.tb_entity
(
    entity integer default nextval('sq_entity') NOT NULL,
    name character varying NOT NULL,
    email character varying NOT NULL,
    password character varying NOT NULL,
    type integer NOT NULL,
    health integer,
    CONSTRAINT entity PRIMARY KEY (entity),
    CONSTRAINT email UNIQUE (email)

)
WITH (
    OIDS = FALSE
);

CREATE TABLE public.tb_type
(
	type integer default nextval('sq_type') NOT NULL primary key,
	description varchar NOT NULL unique
);

insert into tb_type(description) values(user, researcher);

insert into tb_entity(name, email, password, type) select 'master', 'masterman@email.com', 'master', type from tb_type where description='user';

